<!-- build time:Fri Oct 07 2016 17:34:30 GMT+0200 (Romance Daylight Time) --><!DOCTYPE HTML><html><head><meta charset="utf-8"><title>Page 3 | Archives: 2016 | Sitecorn</title><meta name="author" content="Ruben Verschueren"><meta name="description" content="web development tips &amp; tricks"><meta name="og:description" content="web development tips &amp; tricks"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta property="og:site_name" content="Sitecorn"><meta property="og:url" content="http://www.sitecorn.be/archives/2016/page/3/index.html"><meta property="og:image" content="http://www.sitecorn.be/images/sitecorn_large.png"><meta property="og:image:width" content="100"><meta property="og:image:height" content="121"><link rel="icon" type="image/png" href="http://www.sitecorn.be/images/fav.ico"><link href="http://www.sitecorn.be/images/sitecorn_large.png" rel="icon"><link rel="alternate" href="/atom.xml" title="Sitecorn" type="application/atom+xml"><link rel="stylesheet" href="/css/style.css" media="screen" type="text/css"><link rel="stylesheet" href="/css/custom.css" media="screen" type="text/css"><script>!function(e,a,t,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(t),s=a.getElementsByTagName(t)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-76954315-1","auto"),ga("send","pageview")</script></head></html><body><header id="header" class="inner"><div class="alignleft"><h1><a href="/">Sitecorn</a></h1><h2><a href="/">offering a few kernels of knowledge</a></h2></div><nav id="main-nav" class="alignright"><ul><li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li><li><a href="/about">About</a></li></ul><div class="clearfix"></div></nav><div class="clearfix"></div></header><div id="content" class="inner"><div id="main-col" class="alignleft"><div id="wrapper"><h2 class="archive-title">2016</h2><div class="archive"><article class="post"><div class="post-content"><header><div class="icon"></div><time datetime="2016-07-08T13:41:24.449Z"><a href="/2016/07/08/tools-plugins/">2016-07-08</a></time><h1 class="title"><a href="/2016/07/08/tools-plugins/">tools and plugins</a></h1></header><div class="entry"><p>As a developer I find myself gathering tools, plugins, links and so on. If it looks useful I’ll install it and give it a go. A lot of these don’t make through the first week and some aren’t even installed more than a day. So I tend to make lists of the useful ones in case I need to install a new dev environment. I’ll skip the usual ones like you favourite DLL decompiler, log parser and performance tools as there are enough lists out there for them.</p><h3 id="browser-goodies">Browser goodies</h3><p>The last couple of years I’m using chrome as my primary browser, so all these plugins are for my primary browser.</p><p><strong>Edit this cookie</strong></p><p>This one allows you to change the contents of a cookie. Great for testing. Quick and easy.</p><p><a href="https://chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg?utm_source=chrome-app-launcher-info-dialog" target="_blank" rel="external">link</a></p><p><strong>Ip addres and domain information</strong> Say my site is running in different regions spread across the globe and something is wrong. Which server am I currently viewing? this plugin displays the IP address and geographical location of the server.</p><p><a href="https://chrome.google.com/webstore/detail/ip-address-and-domain-inf/lhgkegeccnckoiliokondpaaalbhafoa?utm_source=chrome-app-launcher-info-dialog" target="_blank" rel="external">link</a></p><p><strong>Markdown preview plus</strong></p><p>I was looking for an easy way to view my mardown documentation files, without having to compile them. Enter Markdown preview plus, it lets you view markdown documents as HTML</p><p><a href="https://chrome.google.com/webstore/detail/markdown-preview-plus/febilkbfcbhebfnokafefeacimjdckgl?utm_source=chrome-app-launcher-info-dialog" target="_blank" rel="external">link</a></p><p><strong>Sonar / Yslow</strong></p><p>Is your site slow? Do you like awake at night wondering where it all went wrong? These plugins will shed some light on why the page is slow(er)</p><p><a href="https://chrome.google.com/webstore/detail/sonar/dibilcjfahbokhiodajibcajcabfjein?utm_source=chrome-app-launcher-info-dialog%20https://chrome.google.com/webstore/detail/yslow/ninejjcohidippngpapiilnmkgllmakh?utm_source=chrome-app-launcher-info-dialog" target="_blank" rel="external">link</a></p><p><strong>HOLA</strong></p><p>Want to see what that international site look like to a foreign visitor? Use this plugin to switch your location so you can test the site from another country</p><p><a href="https://chrome.google.com/webstore/detail/unlimited-free-vpn-hola/gkojfkhlekighikafcpjkiklfbnlmeio?utm_source=chrome-app-launcher-info-dialog" target="_blank" rel="external">link</a></p><h3 id="visual-studio-extensions">Visual studio extensions</h3><p>We all know about Resharper, StyleCop and other great extensions. So here are few you might not know about. The first one allows you to change what is shown in the title bar. this is very useful in case you have multiple banches in TFS. and you have opened several VS’s. This plugin helps you by letting you define how many parent folders are shown in the title bar. That way the branch name can become visible.</p><p>To change the settings go to tools &gt; options &gt; rename VS Window Title</p><div class="figure"><img src="/images/TitleOptions.png" title="Custom VS title" alt="Custom VS title"><p class="caption">Custom VS title</p></div><p>The second extension (VS 2013 version) allow you to add lists of project links. Again I use this to have links to all the branches of my current working project on my start page. No screen shot here, as I don’t want to create all those dummy solutions. just check out the link it has all the info you need.</p><p>The final one allows you to edit and preview markdown documents. Perfect for quick documentation.</p><ul><li><a href="https://visualstudiogallery.msdn.microsoft.com/de5a8b10-d521-43ba-8af4-938c19b10ec9" target="_blank" rel="external">RenameVSWindowTitle</a></li><li><a href="https://visualstudiogallery.msdn.microsoft.com/f3f23845-5b1e-4811-882f-60b7181fa6d6" target="_blank" rel="external">Custom Start page</a></li><li><a href="https://visualstudiogallery.msdn.microsoft.com/0855e23e-4c4c-4c82-8b39-24ab5c5a7f79" target="_blank" rel="external">Markdown Mode</a></li></ul></div></div></article><article class="post"><div class="post-content"><header><div class="icon"></div><time datetime="2016-07-08T12:17:50.462Z"><a href="/2016/07/08/ucommerce-extensions/">2016-07-08</a></time><h1 class="title"><a href="/2016/07/08/ucommerce-extensions/">UCommerce Extensions</a></h1></header><div class="entry"><p>Over the course of my first Sitecore 8 and UCommerce integration project I’ve created some extension methods that might be useful in other projects. Most of these are straight forward so let’s dive into it.</p><h3 id="basket">Basket</h3><p><strong>the culture difference</strong></p><p>In case you have different stores for different you need to keep your baskets separated. You cannot have a basket with product X with Euro as currency and product Y with Dollars as currency. So what we decided to do is delete the existing basket when the visitor browses a different Country website. Our site had a country/language selector which allowed the visitor to do that.</p><p>The following code does just that. It checks if the basket culture corresponds with the SiteContext culture.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">EnsureBasketCulture</span>(<span class="params"><span class="keyword">this</span> Basket basket</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!basket.PurchaseOrder.CultureCode.Equals(SiteContext.Current.CurrentCulture.Name))</span><br><span class="line">	&#123;	</span><br><span class="line">		SiteContext.Current.OrderContext.ClearBasketInformation();</span><br><span class="line">		basket = SiteContext.Current.OrderContext.GetBasket();</span><br><span class="line">		basket.PurchaseOrder.Save();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now in case you may not want to loose any basket data, so we want to save that. The following code adds a summary of the existing basket in an audit trail in the new one. Now you might be thinking you want to add the order lines to the new basket and you can do that. However it was out of scope for our project and it could lead you down the rabbit hole since you would have to check if the product is sold in the new country, the prices might be different between countries, not to mention taxes and so on.</p><p>This code is just example and you might want to be more defensive in your coding, it’s merely for reference.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">EnsureBasketCulture</span>(<span class="params"><span class="keyword">this</span> Basket basket</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (!basket.PurchaseOrder.CultureCode.Equals(SiteContext.Current.CurrentCulture.Name))</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">string</span> summary = <span class="keyword">string</span>.Empty;</span><br><span class="line">		<span class="keyword">if</span> (basket.PurchaseOrder != <span class="keyword">null</span> &amp;&amp; basket.PurchaseOrder.OrderLines.Any())</span><br><span class="line">		&#123;</span><br><span class="line">		    summary = <span class="keyword">string</span>.Join(<span class="string">" | "</span>, basket.PurchaseOrder.OrderLines.Select(</span><br><span class="line">		              l =&gt; <span class="keyword">string</span>.Format(<span class="string">"&#123;0&#125; - #&#123;1&#125;"</span>, l.ProductName, l.Quantity)));</span><br><span class="line">		&#125;</span><br><span class="line">		SiteContext.Current.OrderContext.ClearBasketInformation();</span><br><span class="line">		basket = SiteContext.Current.OrderContext.GetBasket();</span><br><span class="line">		basket.PurchaseOrder.Save();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">var</span> auditline = <span class="keyword">new</span> OrderStatusAudit();</span><br><span class="line">		<span class="keyword">var</span> order = basket.PurchaseOrder;</span><br><span class="line">		auditline.CreatedOn = DateTime.Now;</span><br><span class="line">		auditline.Message = <span class="keyword">string</span>.Format(<span class="string">"Country changed, new basket created: &#123;0&#125;"</span>, summary);</span><br><span class="line">		auditline.PurchaseOrder = order;</span><br><span class="line">		auditline.NewOrderStatus = basket.PurchaseOrder.OrderStatus;               </span><br><span class="line">		auditline.Save();</span><br><span class="line">		order.AddOrderStatusAudit(auditline);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="payment-method">Payment method</h3><p><strong>the delivery date modification</strong></p><p>In the Adyen payment method properties you can set standard shipping time. To be able to show the estimated delivery date of the order, we added the following extension method. It simply retrieves the properties from the payment method and corrects the date (adding only business days).</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> DateTime <span class="title">GetDateAdjustment</span>(<span class="params">PaymentMethod paymentMethod</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">	AdyenPaymentMethodProperties properties = <span class="keyword">new</span> AdyenPaymentMethodProperties(paymentMethod.PaymentMethodProperties);</span><br><span class="line">	<span class="keyword">string</span> shipDays = properties.ShipDays;</span><br><span class="line">	<span class="keyword">string</span> shipHours = properties.ShipHours;</span><br><span class="line">	<span class="keyword">string</span> shipMinutes = properties.ShipMinutes;</span><br><span class="line"></span><br><span class="line">	DateTime shipBefore = DateTime.Now;</span><br><span class="line">	<span class="keyword">if</span> (!<span class="keyword">string</span>.IsNullOrEmpty(shipDays))</span><br><span class="line">	&#123;</span><br><span class="line">		shipBefore = shipBefore.AddBusinessDays(<span class="keyword">int</span>.Parse(shipDays));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (!<span class="keyword">string</span>.IsNullOrEmpty(shipHours))</span><br><span class="line">	&#123;</span><br><span class="line">		shipBefore = shipBefore.AddHours(<span class="keyword">int</span>.Parse(shipHours));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (!<span class="keyword">string</span>.IsNullOrEmpty(shipMinutes))</span><br><span class="line">	&#123;</span><br><span class="line">		shipBefore = shipBefore.AddMinutes(<span class="keyword">int</span>.Parse(shipMinutes));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> shipBefore;            </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>the property enquiry</strong></p><p>The following extension method avoids duplicating the same code each time you need to access a payment method property. I also saves a lot of time trying to figure out how to do that again.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">string</span> <span class="title">GetPaymentMethodPropertiesValue</span>(<span class="params"><span class="keyword">this</span> ICollection&lt;PaymentMethodProperty&gt; properties, <span class="keyword">string</span> key</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> properties.FirstOrDefault(p =&gt; p.DefinitionField != <span class="keyword">null</span> &amp;&amp; p.DefinitionField.Name.Equals(key)).Value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="puchaseorder">PuchaseOrder</h3><p><strong>the American way</strong> As we had quite a lot of divergent logic for the US, I added this extension method that inspects the culture to find out if the order is in place in/for the US.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">IsAmerican</span>(<span class="params"><span class="keyword">this</span> PurchaseOrder order</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> order.CultureCode.Equals(<span class="string">"en-US"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>the pipeline verification</strong></p><p>Sometimes something happens, some times it’s bad. let’s leave it at that. I needed to check if the Checkout pipeline was executed or not, so here’s the code.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">bool</span> <span class="title">CheckoutPipelineHasAlreadyBeenExecutedForPayment</span>(<span class="params"><span class="keyword">this</span> PurchaseOrder order</span>)</span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (order.OrderStatus.OrderStatusId == (<span class="keyword">int</span>)OrderStatusCode.Basket ||</span><br><span class="line">	   order.OrderStatus.OrderStatusId == (<span class="keyword">int</span>)OrderStatusCode.Processing)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>the order number assignment</strong></p><p>In case you want to assign an order number at some random point in the order process, this extension method will let you do that. We used it to assign the order number when the customer reaches the confirmation page and the payment was authorised.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">public static void AssignOrdernumberIfEmpty(this PurchaseOrder order,string source = "PurchaseOrderExtension")</span><br><span class="line">&#123;</span><br><span class="line">	if (string.IsNullOrEmpty(order.OrderNumber))</span><br><span class="line">	&#123;                            </span><br><span class="line">		try</span><br><span class="line">		&#123;</span><br><span class="line">			var numberSeriesService = ObjectFactory.Instance.Resolve&lt;INumberSeriesService&gt;();</span><br><span class="line">			order.OrderNumber =</span><br><span class="line">				numberSeriesService.GetNumber(order.ProductCatalogGroup.OrderNumberSerie.OrderNumberName);</span><br><span class="line">			Log.Info(string.Format("Assigning order number to order. id:</span><br><span class="line">			&#123;0&#125;, number &#123;1&#125;", order.OrderId, order.OrderNumber),source);</span><br><span class="line">			order.Save();</span><br><span class="line">		&#125;</span><br><span class="line">		catch (Exception ex)</span><br><span class="line">		&#123;</span><br><span class="line">			Log.Error(string.Format("An error occured assingning the order ordernumber to order (ID): &#123;0&#125;"</span><br><span class="line">			,order.OrderId) ,ex);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="custom-model">Custom Model</h3><p><strong>the currency format issue</strong></p><p>The UCommerce version we were using 6.x had a fixed currency format. So I wrote this class so I could make my own money. You can provide a currency format to the ToString method or use the default one. In our project we only displayed decimals when they’re not zero.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyMoney</span> : <span class="title">Money</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">MyMoney</span>(<span class="params"><span class="keyword">decimal</span> <span class="keyword">value</span>, CultureInfo culture, Currency currency</span>) </span><br><span class="line">   : <span class="title">base</span>(<span class="params"><span class="keyword">value</span>, culture, currency</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">MyMoney</span>(<span class="params"><span class="keyword">decimal</span> <span class="keyword">value</span>, Currency currency</span>) : <span class="title">base</span>(<span class="params"><span class="keyword">value</span>, currency</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="title">MyMoney</span>(<span class="params">Money money</span>) : <span class="title">base</span>(<span class="params">money.Value, money.Culture, money.Currency</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">	  </span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//uCommerce ToString method has a fixed currency format</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">string</span> <span class="title">ToString</span>(<span class="params"><span class="keyword">string</span> format</span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">	   <span class="keyword">if</span> (format.IsNullOrEmpty())</span><br><span class="line">	   &#123;</span><br><span class="line">		   format = <span class="string">"C0"</span>;</span><br><span class="line">	   &#125;</span><br><span class="line">	   <span class="keyword">string</span> cultureSpecificStringValue = Value.ToString(format, Culture);</span><br><span class="line">	   <span class="keyword">return</span> cultureSpecificStringValue;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="comment">//should return the value with 2 decimals if it is not a whole number</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">string</span> <span class="title">ToString</span>(<span class="params"></span>)</span><br><span class="line">   </span>&#123;</span><br><span class="line">	   <span class="keyword">string</span> format = <span class="string">"C0"</span>;</span><br><span class="line">	   <span class="keyword">if</span> (Value - Math.Truncate(Value) &gt; <span class="number">0</span>)</span><br><span class="line">	   &#123;</span><br><span class="line">		   format = <span class="string">"c2"</span>;</span><br><span class="line">	   &#125;</span><br><span class="line">	   <span class="keyword">return</span> ToString(format);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>the money maker</strong></p><p>Here’s how you would use that. Let’s say you’re displaying the cost of a product in an orderline. Since the ultimate goal of e-commerce it to turn the product value into cash, we can do that in code. Let’s convert the product cost to MyMoney.</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">string</span> displayValue = <span class="keyword">new</span> MyMoney(orderline.Total.GetValueOrDefault(), </span><br><span class="line">orderline.PurchaseOrder.BillingCurrency).ToString();</span><br></pre></td></tr></table></figure></div></div></article><article class="post"><div class="post-content"><header><div class="icon"></div><time datetime="2016-06-03T07:41:16.831Z"><a href="/2016/06/03/sotd/shortcutoftheday/">2016-06-03</a></time><h1 class="title"><a href="/2016/06/03/sotd/shortcutoftheday/">Shortcut of the day - Peek Definition</a></h1></header><div class="entry"><p>I intend to dive deeper into all the wonderful shortcuts VS, Resharper and other plugins have to offer. But since they are covered on lots of other site I will only include a short description in my posts. They are mostly intended to help me remember.</p><p>[CTRL] + [SHIFT] + [LEFT-CLICK]</p><p>Does exactly what it says on the box. Where [CTRL] + [LEFT-CLICK] opens a new tab and navigates to the definition of the method or class, this will open a small pop up window and show the definition “inline”.</p><p>Check it out <a href="https://blog.jetbrains.com/dotnet/2013/11/04/visual-studio-2013-support-resharper-81/" target="_blank" rel="external">here</a></p></div></div></article></div></div></div><aside id="sidebar" class="alignright"><a href="https://twitter.com/RubenVerschuern" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @RubenVerschuern</a><script>!function(t,e,r){var n,s=t.getElementsByTagName(e)[0],i=/^http:/.test(t.location)?"http":"https";t.getElementById(r)||(n=t.createElement(e),n.id=r,n.src=i+"://platform.twitter.com/widgets.js",s.parentNode.insertBefore(n,s))}(document,"script","twitter-wjs")</script><div class="widget tag"><h3 class="title">Tags</h3><ul class="entry"><li><a href="/tags/adyen-skin/">adyen skin</a><small>1</small></li><li><a href="/tags/autocomplete/">autocomplete</a><small>1</small></li><li><a href="/tags/blog/">blog</a><small>1</small></li><li><a href="/tags/browser-extensions/">browser extensions</a><small>1</small></li><li><a href="/tags/cheat-sheet/">cheat sheet</a><small>1</small></li><li><a href="/tags/extension-methods/">extension methods</a><small>1</small></li><li><a href="/tags/filter/">filter</a><small>1</small></li><li><a href="/tags/google-maps/">google maps</a><small>1</small></li><li><a href="/tags/hpp/">hpp</a><small>1</small></li><li><a href="/tags/itemlink/">itemlink</a><small>1</small></li><li><a href="/tags/javascript/">javascript</a><small>2</small></li><li><a href="/tags/markdown/">markdown</a><small>1</small></li><li><a href="/tags/mediarequest/">mediarequest</a><small>1</small></li><li><a href="/tags/migrate/">migrate</a><small>1</small></li><li><a href="/tags/multiple-renderings/">multiple renderings</a><small>1</small></li><li><a href="/tags/mvc/">mvc</a><small>1</small></li><li><a href="/tags/pdf/">pdf</a><small>1</small></li><li><a href="/tags/plugins/">plugins</a><small>1</small></li><li><a href="/tags/resharper/">resharper</a><small>1</small></li><li><a href="/tags/shortcut/">shortcut</a><small>1</small></li><li><a href="/tags/sitecore/">sitecore</a><small>1</small></li><li><a href="/tags/sitecore-8/">sitecore 8</a><small>4</small></li><li><a href="/tags/sql/">sql</a><small>3</small></li><li><a href="/tags/tools/">tools</a><small>1</small></li><li><a href="/tags/ucommerce/">ucommerce</a><small>3</small></li><li><a href="/tags/unit-testing/">unit testing</a><small>1</small></li><li><a href="/tags/upgrade/">upgrade</a><small>1</small></li><li><a href="/tags/visual-studio/">visual studio</a><small>1</small></li></ul></div></aside><div class="clearfix"></div></div><footer id="footer" class="inner"><div class="alignleft">&copy; 2016 Ruben Verschueren</div><div class="clearfix"></div></footer><script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script><script src="/js/jquery.imagesloaded.min.js"></script><script src="/js/gallery.js"></script><script type="text/javascript">var disqus_shortname="sitecorn";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/count.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css"><script src="/fancybox/jquery.fancybox.pack.js"></script><script type="text/javascript">!function(n){n(".fancybox").fancybox()}(jQuery)</script></body><!-- rebuild by neat -->